<!DOCTYPE html>
<html lang="el">
<head>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

<script>
  // Deine Firebase-Konfiguration aus dem Projekt
  const firebaseConfig = {
  apiKey: "AIzaSyAni0T5TFTjuZjFEFC_sh8cxgsme5iMiDM",

  authDomain: "crete-f2354.firebaseapp.com",

  projectId: "crete-f2354",

  storageBucket: "crete-f2354.firebasestorage.app",

  messagingSenderId: "709466530046",

  appId: "1:709466530046:web:8e0e921b11b8d7617485af"

  };

  // Firebase initialisieren
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
</script>

  <meta charset="UTF-8" />
  <title>ΣΥΝΕΛΕΥΣΗ ΠΕΡΙΦΕΡΙΑΣ 2026 ΚΡΗΤΗ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');

    :root {
      --color-primary: #004d40;
      --color-secondary: #00796b;
      --color-accent: #26a69a;
      --color-bg-start: #e0f2f1;
      --color-bg-end: #80cbc4;
      --color-input-bg: #e6f0f0;
      --color-text-primary: #004d40;
      --color-text-light: #ffffff;
      --shadow-light: rgba(0, 0, 0, 0.12);
      --transition-time: 0.4s;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, var(--color-bg-start), var(--color-bg-end));
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
      color: var(--color-text-primary);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      padding: 40px 20px;
    }

    @keyframes gradientShift {
      0% {background-position: 0% 50%;}
      50% {background-position: 100% 50%;}
      100% {background-position: 0% 50%;}
    }

    header {
      background: rgba(0, 77, 64, 0.85);
      padding: 30px 40px;
      border-radius: 40px;
      box-shadow:
        8px 8px 15px var(--shadow-light),
        -8px -8px 15px #ffffff88;
      margin-bottom: 40px;
      width: 100%;
      max-width: 600px;
      text-align: center;
      user-select: none;
      color: var(--color-text-light);
      letter-spacing: 2px;
      font-weight: 700;
      font-size: 2.4rem;
      text-shadow: 2px 2px 6px #00251a;
      font-style: italic;
    }

    main {
      width: 100%;
      max-width: 600px;
      background: var(--color-bg-start);
      border-radius: 40px;
      box-shadow:
        12px 12px 30px var(--shadow-light),
        -12px -12px 30px #ffffffaa;
      padding: 40px 30px 100px;
      position: relative;
      display: flex;
      flex-direction: column;
      gap: 28px;
    }

    .person {
      background: var(--color-input-bg);
      border-radius: 30px;
      padding: 18px 28px;
      display: flex;
      align-items: center;
      gap: 22px;
      box-shadow:
        inset 6px 6px 12px var(--shadow-light),
        inset -6px -6px 12px #ffffffbb;
      cursor: pointer;
      transition: box-shadow var(--transition-time), background-color var(--transition-time), transform var(--transition-time);
      user-select: none;
    }

    .person:hover, .person:focus-within {
      background: var(--color-accent);
      box-shadow:
        8px 8px 15px #009688cc,
        -8px -8px 15px #4db6accc;
      color: var(--color-text-light);
      transform: translateY(-6px);
      outline: none;
    }

    .avatar {
      flex-shrink: 0;
      width: 58px;
      height: 58px;
      border-radius: 50%;
      background: var(--color-secondary);
      box-shadow:
        6px 6px 10px var(--shadow-light),
        -6px -6px 10px #ffffffcc;
      color: var(--color-text-light);
      font-weight: 800;
      font-size: 1.4rem;
      display: flex;
      align-items: center;
      justify-content: center;
      text-transform: uppercase;
      user-select: none;
      transition: background-color var(--transition-time);
    }
    .person:hover .avatar, .person:focus-within .avatar {
      background: var(--color-primary);
    }

    label {
      flex: 1;
      font-weight: 600;
      font-size: 1.25rem;
      transition: color var(--transition-time);
      user-select: none;
    }

    input[type="number"] {
      width: 110px;
      padding: 12px 18px;
      font-size: 1.2rem;
      border-radius: 30px;
      border: none;
      background: var(--color-bg-start);
      box-shadow:
        6px 6px 12px var(--shadow-light),
        -6px -6px 12px #ffffffbb;
      color: var(--color-text-primary);
      font-weight: 700;
      text-align: center;
      transition: box-shadow var(--transition-time), background-color var(--transition-time);
      appearance: none;
      -moz-appearance: textfield;
    }
    input[type="number"]:focus {
      outline: none;
      background-color: var(--color-text-light);
      box-shadow:
        0 0 15px 4px var(--color-accent);
      color: var(--color-primary);
    }
    input[type=number]::-webkit-inner-spin-button, 
    input[type=number]::-webkit-outer-spin-button { 
      -webkit-appearance: none; 
      margin: 0; 
    }

    #sum {
      position: absolute;
      bottom: 20px;
      right: 30px;
      font-weight: 900;
      font-size: 1.9rem;
      background: var(--color-secondary);
      padding: 20px 45px;
      border-radius: 50px;
      color: var(--color-text-light);
      box-shadow:
        6px 6px 20px #00695ccc,
        -6px -6px 20px #48a999cc;
      user-select: none;
      transition: background-color var(--transition-time), box-shadow var(--transition-time), transform 0.6s ease;
      cursor: default;
      text-align: center;
      font-style: italic;
    }
    main:hover #sum {
      background: var(--color-primary);
      box-shadow:
        8px 8px 30px #00332fcc,
        -8px -8px 30px #33a69acc;
      transform: scale(1.07);
    }

    @media (max-width: 520px) {
      main {
        padding: 30px 20px 110px;
      }
      .person {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
        padding: 20px 25px;
      }
      input[type="number"] {
        width: 100%;
      }
      #sum {
        position: static;
        margin: 35px auto 0;
        width: 75%;
        font-size: 1.6rem;
        border-radius: 30px;
        box-shadow:
          4px 4px 12px #00695ccc,
          -4px -4px 12px #48a999cc;
      }
    }
  </style>
</head>
<body>
  <header>
    ΣΥΝΕΛΕΥΣΗ ΠΕΡΙΦΕΡΙΑΣ 2026 ΚΡΗΤΗ
  </header>

  <main>
    <form id="numberForm" autocomplete="off" novalidate>
      <div class="person" tabindex="0">
        <div class="avatar">ΚΧ</div>
        <label for="zahl1">ΚΩΣΤΑ ΧΑΜΠΕΡΗΣ</label>
        <input type="number" id="zahl1" name="zahl1" min="0" />
      </div>
      <div class="person" tabindex="0">
        <div class="avatar">ΣΑ</div>
        <label for="zahl2">ΣΤΕΦΑΝΟΣ ΑΓΓΕΛΟΠΟΥΛΟΣ</label>
        <input type="number" id="zahl2" name="zahl2" min="0" />
      </div>
      <div class="person" tabindex="0">
        <div class="avatar">ΤΝ</div>
        <label for="zahl3">ΤΑΣΟΣ ΝΙΚΟΛΑΟΥ</label>
        <input type="number" id="zahl3" name="zahl3" min="0" />
      </div>
      <div class="person" tabindex="0">
        <div class="avatar">ΓΧ</div>
        <label for="zahl4">ΓΙΑΝΝΗΣ ΧΑΜΠΕΡΗΣ</label>
        <input type="number" id="zahl4" name="zahl4" min="0" />
      </div>
      <div class="person" tabindex="0">
        <div class="avatar">ΒΔ</div>
        <label for="zahl5">ΒΑΣΙΛΗΣ ΔΑΝΙΗΛ</label>
        <input type="number" id="zahl5" name="zahl5" min="0" />
      </div>
    </form>
    <div id="sum">Σύνολο: 0</div>
  </main>

<script>
  const inputs = document.querySelectorAll('input[type="number"]');
  const sumDisplay = document.getElementById('sum');

  // Funktion zum Berechnen und Anzeigen der Summe
  function updateSum() {
    let total = 0;
    inputs.forEach(input => {
      const val = parseInt(input.value, 10);
      if (!isNaN(val) && val > 0) {
        total += val;
      }
    });
    sumDisplay.textContent = 'Σύνολο: ' + total;
  }

  // Funktion, um alle Eingabewerte aus den Inputs als Objekt zu holen
  function getAllValues() {
    const data = {};
    inputs.forEach(input => {
      const val = parseInt(input.value, 10);
      data[input.id] = isNaN(val) ? 0 : val;
    });
    return data;
  }

  // Funktion, um Werte in die Inputs zu schreiben (von Firebase geladen)
  function setAllValues(data) {
    inputs.forEach(input => {
      if (data && data.hasOwnProperty(input.id)) {
        input.value = data[input.id];
      } else {
        input.value = 0;
      }
    });
    updateSum();
  }

  // Firebase Datenpfad (kannst du anpassen)
  const dbRef = db.ref('zahlen');

  // Firebase Listener: wenn Daten sich ändern, Inputs updaten
  dbRef.on('value', snapshot => {
    const data = snapshot.val();
    setAllValues(data);
  });

  // Eventlistener: bei Änderung eines Inputs, Firebase updaten
  inputs.forEach(input => {
    input.addEventListener('input', () => {
      const data = getAllValues();
      dbRef.set(data);
    });
  });
</script>

</body>
</html>
